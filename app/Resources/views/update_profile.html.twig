{% extends 'base.html.twig' %}

{% block title %} User Profile {% endblock %}
{% block body_class 'layout-top-nav skin-blue' %}
    {% block body %}

        <div class="wrapper">

            <header class="main-header">
                <!-- Logo -->
                <a href="#" class="logo">
                </a>
                <!-- Header Navbar: style can be found in header.less -->
                <nav class="navbar navbar-static-top" role="navigation">
                </nav>
            </header>

            <!-- Content Wrapper. Contains page content -->
            <div class="content-wrapper">
                <!-- Content Header (Page header) -->
                <section class="content-header">
                    <h1>
                        Update User Profile
                    </h1>
                </section>

                <!-- Main content -->
                <section class="content">

                    <div class="row">
                        <div class="col-md-3">

                            <!-- Profile Image -->
                            <div class="box box-primary">
                                <div class="box-body box-profile">
                                    <img class="profile-user-img img-responsive img-circle" 
                                         src="{{ asset('uploads/avatars/' ~ oldUserAvatarUrl) }}" alt="User profile picture">
                                    <h3 class="profile-username text-center">{{ user.username }}</h3>
                                    <a href="{{ url('logout')}}" class="text-center">Log out</a>
                                </div><!-- /.box-body -->
                            </div><!-- /.box -->             
                        </div><!-- /.col -->

                        <div class="col-md-9">
                            <div class="nav-tabs-custom">
                                <ul class="nav nav-tabs">
                                    <li class="active"><a href="#settings" data-toggle="tab">Info</a></li>
                                </ul>
                                <div class="tab-content">
                                    <div class="active tab-pane" id="settings">
                                        {{ form_start(form, {'attr':{'class':'form-horizontal', 'novalidate':'novalidate'} } ) }}
                                        <div class="alert-danger">
                                            {{ form_errors(form) }}
                                        </div>
                                        <div class="form-group">
                                            {{ form_label(form.email, null, {'label_attr':{'class': 'col-sm-2 control-label'} } ) }}
                                            <div class="col-sm-10">
                                                {{ form_widget(form.email, {'attr':{'class': 'form-control'} } ) }}
                                                {{ form_errors(form.email) }}                                            
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            {{ form_label(form.avatarUrl, null, {'label_attr':{'class': 'col-sm-2 control-label'} } ) }}
                                            <div class="col-sm-10">
                                                {{ form_widget(form.avatarUrl) }}
                                                {{ form_errors(form.avatarUrl) }}                                            
                                            </div>
                                        </div>                                             
                                        <div class="form-group">
                                            <div class="col-sm-offset-2 col-sm-10">
                                                <button class="btn btn-danger">Save</button>
                                                <a href="{{ path('user_info', {'id': app.request.get('id') } ) }}" class="btn btn-primary">Cancel</a>
                                            </div>
                                        </div>
                                        {{ form_widget(form._token) }}
                                    </form>
                                    </div><!-- /.tab-pane -->
                                </div><!-- /.tab-content -->
                            </div><!-- /.nav-tabs-custom -->
                        </div><!-- /.col -->
                    </div><!-- /.row -->

                </section><!-- /.content -->
            </div><!-- /.content-wrapper -->
            <footer class="main-footer">
                <div class="pull-right hidden-xs">
                    <b>Version</b> 2.3.0
                </div>
                <strong>Copyright &copy; 2015-2016 All rights reserved.
            </footer>

        </div><!-- ./wrapper -->


    {% endblock %} 



